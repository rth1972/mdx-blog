{
  "title": "Using Rsync",
  "date": "2025-10-07T00:00:00.000Z",
  "tags": [
    "General",
    "Tutorial",
    "Backup",
    "Data Transfer"
  ],
  "body": {
    "raw": "\n\n# rsync Tutorial: Complete Guide\n\n## What is rsync?\n\n`rsync` (remote sync) is a powerful file synchronization and transfer tool for Unix-like systems. It's designed to efficiently copy and synchronize files both locally and remotely by only transferring the differences between source and destination files.\n\n### Key Features\n- **Incremental transfers**: Only copies changed portions of files\n- **Compression**: Can compress data during transfer\n- **Preservation**: Maintains permissions, timestamps, ownership, and symlinks\n- **Remote capabilities**: Works over SSH for secure transfers\n- **Resumable**: Can continue interrupted transfers\n- **Bandwidth limiting**: Control transfer speed\n\n---\n\n## Basic Syntax\n\n```bash\nrsync [OPTIONS] SOURCE DESTINATION\n```\n\n---\n\n## Common Options\n\n| Option | Description |\n|--------|-------------|\n| `-a, --archive` | Archive mode (preserves permissions, timestamps, etc.) |\n| `-v, --verbose` | Verbose output |\n| `-z, --compress` | Compress data during transfer |\n| `-h, --human-readable` | Human-readable output |\n| `-r, --recursive` | Recurse into directories |\n| `-u, --update` | Skip files that are newer on destination |\n| `-n, --dry-run` | Perform trial run without changes |\n| `-P` | Show progress and keep partial files |\n| `-X, --xattrs` | Preserve extended attributes |\n| `--delete` | Delete files in destination not in source |\n| `--exclude` | Exclude files matching pattern |\n| `--include` | Include files matching pattern |\n\n---\n\n## Basic Examples\n\n### 1. Copy a file locally\n```bash\nrsync file.txt /backup/\n```\n\n### 2. Copy a directory locally (with trailing slash)\n```bash\n# Copies CONTENTS of dir1 into dir2\nrsync -av dir1/ dir2/\n\n# Copies dir1 ITSELF into dir2\nrsync -av dir1 dir2/\n```\n\n**Important**: The trailing slash makes a huge difference!\n- `dir1/` = copy contents of dir1\n- `dir1` = copy dir1 itself\n\n### 3. Sync with progress bar\n```bash\nrsync -avP source/ destination/\n```\n\n### 4. Dry run (test without making changes)\n```bash\nrsync -avn source/ destination/\n```\n\n---\n\n## Remote Transfer Examples\n\n### 1. Copy to remote server\n```bash\nrsync -avz /local/path/ user@remote-host:/remote/path/\n```\n\n### 2. Copy from remote server\n```bash\nrsync -avz user@remote-host:/remote/path/ /local/path/\n```\n\n### 3. Use specific SSH port\n```bash\nrsync -avz -e \"ssh -p 2222\" source/ user@host:/destination/\n```\n\n### 4. Using SSH key\n```bash\nrsync -avz -e \"ssh -i ~/.ssh/my_key\" source/ user@host:/destination/\n```\n\n---\n\n## Advanced Examples\n\n### 1. Sync and delete files not in source\n```bash\nrsync -av --delete source/ destination/\n```\nâš ï¸ **Warning**: This will delete files in destination that don't exist in source!\n\n### 2. Exclude certain files/directories\n```bash\n# Exclude single pattern\nrsync -av --exclude='*.tmp' source/ destination/\n\n# Exclude multiple patterns\nrsync -av --exclude='*.log' --exclude='cache/' source/ destination/\n\n# Exclude from file\nrsync -av --exclude-from='exclude-list.txt' source/ destination/\n```\n\n### 3. Include only certain files\n```bash\nrsync -av --include='*.jpg' --exclude='*' source/ destination/\n```\n\n### 4. Backup with timestamp\n```bash\nrsync -av source/ destination/backup-$(date +%Y%m%d)/\n```\n\n### 5. Limit bandwidth (in KB/s)\n```bash\nrsync -av --bwlimit=1000 source/ destination/\n```\n\n### 6. Show what will be deleted\n```bash\nrsync -avn --delete source/ destination/\n```\n\n---\n\n## Practical Use Cases\n\n### Backup home directory to external drive\n```bash\nrsync -aAXv --delete --exclude={\"/dev/*\",\"/proc/*\",\"/sys/*\",\"/tmp/*\",\"/run/*\",\"/mnt/*\",\"/media/*\",\"/lost+found\"} / /mnt/backup/\n```\n\n### Sync website to server\n```bash\nrsync -avz --delete ~/website/ user@server:/var/www/html/\n```\n\n### Mirror directories\n```bash\nrsync -av --delete /source/dir/ /backup/dir/\n```\n\n### Copy only updated files\n```bash\nrsync -avu source/ destination/\n```\n\n---\n\n## Important Warnings and Gotchas\n\n### âš ï¸ Critical Warnings\n\n1. **The Trailing Slash Problem**\n   ```bash\n   rsync -av /source /dest    # Creates /dest/source\n   rsync -av /source/ /dest   # Copies contents to /dest\n   ```\n\n2. **The --delete Flag**\n   - Using `--delete` will remove files in destination not in source\n   - ALWAYS do a dry run first: `rsync -avn --delete source/ dest/`\n   - Can cause data loss if used incorrectly\n\n3. **Root Directory Sync**\n   - Be extremely careful syncing `/`\n   - Always exclude system directories\n   - One wrong command can break your system\n\n4. **Permissions on Remote Systems**\n   - May need sudo on remote: `rsync -av source/ user@host:/root/dest/` won't work\n   - Use: `rsync -av source/ user@host:~/dest/ && ssh user@host 'sudo mv ~/dest /root/'`\n\n### ðŸ” Common Mistakes\n\n1. **Forgetting -a flag**: Files lose permissions and timestamps\n2. **Not using --dry-run**: Making changes without testing first\n3. **Wrong slash usage**: Copying directory into itself\n4. **Using --delete carelessly**: Accidentally deleting important files\n\n---\n\n## Best Practices\n\n1. **Always test first**\n   ```bash\n   rsync -avn source/ dest/  # Dry run\n   ```\n\n2. **Use archive mode for backups**\n   ```bash\n   rsync -av source/ dest/\n   ```\n\n3. **Show progress for large transfers**\n   ```bash\n   rsync -avP source/ dest/\n   ```\n\n4. **Create exclude file for regular backups**\n   ```bash\n   # Create exclude-list.txt\n   *.tmp\n   *.log\n   cache/\n   node_modules/\n   \n   # Use it\n   rsync -av --exclude-from=exclude-list.txt source/ dest/\n   ```\n\n5. **Log your syncs**\n   ```bash\n   rsync -av source/ dest/ --log-file=sync.log\n   ```\n\n---\n\n## Useful Option Combinations\n\n### Safe backup command\n```bash\nrsync -avhP --dry-run source/ destination/  # Test first\nrsync -avhP source/ destination/            # Execute\n```\n\n### Full system backup\n```bash\nrsync -aAXv --exclude={\"/dev/*\",\"/proc/*\",\"/sys/*\",\"/tmp/*\"} / /backup/\n```\n\n### Quick sync with compression\n```bash\nrsync -avzP source/ user@host:dest/\n```\n\n### Mirror with delete (careful!)\n```bash\nrsync -av --delete --dry-run source/ dest/  # Test\nrsync -av --delete source/ dest/             # Execute\n```\n\n---\n\n## Checking rsync Status\n\n### View what will be transferred\n```bash\nrsync -avn source/ dest/\n```\n\n### View detailed file list\n```bash\nrsync -avvn source/ dest/\n```\n\n### View statistics\n```bash\nrsync -av --stats source/ dest/\n```\n\n---\n\n## Troubleshooting\n\n### Permission denied\n```bash\n# Check SSH access first\nssh user@host\n\n# Check destination permissions\nls -la /destination/path/\n```\n\n### Connection timeout\n```bash\n# Test connection\nping remote-host\n\n# Test SSH\nssh -v user@host\n```\n\n### Slow transfer\n```bash\n# Use compression\nrsync -avz source/ dest/\n\n# Or disable compression for LAN\nrsync -av --no-compress source/ dest/\n```\n\n---\n\n## Resources\n\n- Man page: `man rsync`\n- Official docs: https://rsync.samba.org/\n- Test before production use\n- Keep backups before major syncs\n\n---\n\n**âš ï¸ Remember**: When in doubt, use `--dry-run` (`-n`) first!",
    "code": "var Component=(()=>{var p=Object.create;var d=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var B=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),b=(r,e)=>{for(var l in e)d(r,l,{get:e[l],enumerable:!0})},i=(r,e,l,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of g(e))!u.call(r,a)&&a!==l&&d(r,a,{get:()=>e[a],enumerable:!(t=y(e,a))||t.enumerable});return r};var m=(r,e,l)=>(l=r!=null?p(F(r)):{},i(e||!r||!r.__esModule?d(l,\"default\",{value:r,enumerable:!0}):l,r)),f=r=>i(d({},\"__esModule\",{value:!0}),r);var s=B((x,c)=>{c.exports=_jsx_runtime});var C={};b(C,{default:()=>o,frontmatter:()=>E});var n=m(s()),E={title:\"Using Rsync\",date:\"2025-10-07\",tags:[\"General\",\"Tutorial\",\"Backup\",\"Data Transfer\"],draft:!1,summary:\"Learn how to use rsync, a powerful command-line tool for synchronizing files and directories.\",images:[]};function h(r){let e={a:\"a\",code:\"code\",figure:\"figure\",h1:\"h1\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...r.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"rsync Tutorial: Complete Guide\"}),`\n`,(0,n.jsx)(e.h2,{children:\"What is rsync?\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"rsync\"}),\" (remote sync) is a powerful file synchronization and transfer tool for Unix-like systems. It's designed to efficiently copy and synchronize files both locally and remotely by only transferring the differences between source and destination files.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Key Features\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Incremental transfers\"}),\": Only copies changed portions of files\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Compression\"}),\": Can compress data during transfer\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Preservation\"}),\": Maintains permissions, timestamps, ownership, and symlinks\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Remote capabilities\"}),\": Works over SSH for secure transfers\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Resumable\"}),\": Can continue interrupted transfers\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Bandwidth limiting\"}),\": Control transfer speed\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Basic Syntax\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [OPTIONS] SOURCE DESTINATION\"})]})})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Common Options\"}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"Option\"}),(0,n.jsx)(e.th,{children:\"Description\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-a, --archive\"})}),(0,n.jsx)(e.td,{children:\"Archive mode (preserves permissions, timestamps, etc.)\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-v, --verbose\"})}),(0,n.jsx)(e.td,{children:\"Verbose output\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-z, --compress\"})}),(0,n.jsx)(e.td,{children:\"Compress data during transfer\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-h, --human-readable\"})}),(0,n.jsx)(e.td,{children:\"Human-readable output\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-r, --recursive\"})}),(0,n.jsx)(e.td,{children:\"Recurse into directories\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-u, --update\"})}),(0,n.jsx)(e.td,{children:\"Skip files that are newer on destination\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-n, --dry-run\"})}),(0,n.jsx)(e.td,{children:\"Perform trial run without changes\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-P\"})}),(0,n.jsx)(e.td,{children:\"Show progress and keep partial files\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"-X, --xattrs\"})}),(0,n.jsx)(e.td,{children:\"Preserve extended attributes\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"--delete\"})}),(0,n.jsx)(e.td,{children:\"Delete files in destination not in source\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"--exclude\"})}),(0,n.jsx)(e.td,{children:\"Exclude files matching pattern\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"--include\"})}),(0,n.jsx)(e.td,{children:\"Include files matching pattern\"})]})]})]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Basic Examples\"}),`\n`,(0,n.jsx)(e.h3,{children:\"1. Copy a file locally\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" file.txt\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /backup/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"2. Copy a directory locally (with trailing slash)\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Copies CONTENTS of dir1 into dir2\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dir1/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dir2/\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Copies dir1 ITSELF into dir2\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dir1\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dir2/\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Important\"}),\": The trailing slash makes a huge difference!\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"dir1/\"}),\" = copy contents of dir1\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"dir1\"}),\" = copy dir1 itself\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"3. Sync with progress bar\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avP\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"4. Dry run (test without making changes)\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avn\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Remote Transfer Examples\"}),`\n`,(0,n.jsx)(e.h3,{children:\"1. Copy to remote server\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avz\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /local/path/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@remote-host:/remote/path/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"2. Copy from remote server\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avz\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@remote-host:/remote/path/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /local/path/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"3. Use specific SSH port\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avz\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -e\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"ssh -p 2222\"'}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@host:/destination/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"4. Using SSH key\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avz\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -e\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"ssh -i ~/.ssh/my_key\"'}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@host:/destination/\"})]})})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Advanced Examples\"}),`\n`,(0,n.jsx)(e.h3,{children:\"1. Sync and delete files not in source\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u26A0\\uFE0F \",(0,n.jsx)(e.strong,{children:\"Warning\"}),\": This will delete files in destination that don't exist in source!\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"2. Exclude certain files/directories\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Exclude single pattern\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'*.tmp'\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Exclude multiple patterns\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'*.log'\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'cache/'\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Exclude from file\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude-from=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'exclude-list.txt'\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{children:\"3. Include only certain files\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --include=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'*.jpg'\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude=\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'*'\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"4. Backup with timestamp\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/backup-\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"$(\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"date\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" +%Y%m%d\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"5. Limit bandwidth (in KB/s)\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --bwlimit=1000\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"6. Show what will be deleted\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avn\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Practical Use Cases\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Backup home directory to external drive\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -aAXv\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/dev/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/proc/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/sys/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/tmp/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/run/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/mnt/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/media/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/lost+found\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /mnt/backup/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Sync website to server\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avz\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" ~/website/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@server:/var/www/html/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Mirror directories\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /source/dir/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /backup/dir/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Copy only updated files\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avu\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"})]})})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Important Warnings and Gotchas\"}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u26A0\\uFE0F Critical Warnings\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"The Trailing Slash Problem\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /source\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /dest\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"    # Creates /dest/source\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /dest\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"   # Copies contents to /dest\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"The --delete Flag\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Using \",(0,n.jsx)(e.code,{children:\"--delete\"}),\" will remove files in destination not in source\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"ALWAYS do a dry run first: \",(0,n.jsx)(e.code,{children:\"rsync -avn --delete source/ dest/\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"Can cause data loss if used incorrectly\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Root Directory Sync\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Be extremely careful syncing \",(0,n.jsx)(e.code,{children:\"/\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"Always exclude system directories\"}),`\n`,(0,n.jsx)(e.li,{children:\"One wrong command can break your system\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Permissions on Remote Systems\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"May need sudo on remote: \",(0,n.jsx)(e.code,{children:\"rsync -av source/ user@host:/root/dest/\"}),\" won't work\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Use: \",(0,n.jsx)(e.code,{children:\"rsync -av source/ user@host:~/dest/ && ssh user@host 'sudo mv ~/dest /root/'\"})]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u{1F50D} Common Mistakes\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Forgetting -a flag\"}),\": Files lose permissions and timestamps\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Not using --dry-run\"}),\": Making changes without testing first\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Wrong slash usage\"}),\": Copying directory into itself\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Using --delete carelessly\"}),\": Accidentally deleting important files\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Best Practices\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Always test first\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avn\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  # Dry run\"})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Use archive mode for backups\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Show progress for large transfers\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avP\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Create exclude file for regular backups\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Create exclude-list.txt\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".tmp\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".log\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"cache/\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"node_modules/\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Use it\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude-from=exclude-list.txt\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Log your syncs\"})}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --log-file=sync.log\"})]})})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Useful Option Combinations\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Safe backup command\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avhP\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --dry-run\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  # Test first\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avhP\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" destination/\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"            # Execute\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Full system backup\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -aAXv\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --exclude=\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/dev/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/proc/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/sys/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:'\"/tmp/*\"'}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /backup/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Quick sync with compression\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avzP\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@host:dest/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Mirror with delete (careful!)\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --dry-run\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"  # Test\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --delete\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"}),(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"             # Execute\"})]})]})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Checking rsync Status\"}),`\n`,(0,n.jsx)(e.h3,{children:\"View what will be transferred\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avn\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"View detailed file list\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avvn\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})})})}),`\n`,(0,n.jsx)(e.h3,{children:\"View statistics\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --stats\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Troubleshooting\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Permission denied\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Check SSH access first\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ssh\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@host\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Check destination permissions\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ls\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -la\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" /destination/path/\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Connection timeout\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Test connection\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ping\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" remote-host\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Test SSH\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"ssh\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -v\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" user@host\"})]})]})})}),`\n`,(0,n.jsx)(e.h3,{children:\"Slow transfer\"}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Use compression\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -avz\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"# Or disable compression for LAN\"})}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"rsync\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" -av\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" --no-compress\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" source/\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" dest/\"})]})]})})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h2,{children:\"Resources\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Man page: \",(0,n.jsx)(e.code,{children:\"man rsync\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Official docs: \",(0,n.jsx)(e.a,{href:\"https://rsync.samba.org/\",children:\"https://rsync.samba.org/\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"Test before production use\"}),`\n`,(0,n.jsx)(e.li,{children:\"Keep backups before major syncs\"}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u26A0\\uFE0F Remember\"}),\": When in doubt, use \",(0,n.jsx)(e.code,{children:\"--dry-run\"}),\" (\",(0,n.jsx)(e.code,{children:\"-n\"}),\") first!\"]})]})}function o(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(h,{...r})}):h(r)}return f(C);})();\n;return Component;"
  },
  "_id": "using_rsync.mdx",
  "_raw": {
    "sourceFilePath": "using_rsync.mdx",
    "sourceFileName": "using_rsync.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "using_rsync"
  },
  "type": "Post",
  "url": "/blog/using_rsync",
  "slug": "using_rsync",
  "readingTime": 7
}