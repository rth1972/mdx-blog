{
  "title": "Python Bill Manager",
  "date": "2025-05-20T00:00:00.000Z",
  "tags": [
    "Python",
    "code"
  ],
  "body": {
    "raw": "\n# **Bill Manager Tutorial**\n\n### Introduction\n\n- - -\n\nThe Bill Manager is a simple command-line program that allows users to manage their bills. This tutorial will walk you through each line of code, explaining what it does and how it contributes to the overall functionality of the program.\n\n\nThis is the full code of the app. Underneath you'll find an explantion of what every function does.\n\n```\nimport json\nimport os\nfrom datetime import datetime\nfrom time import sleep\nfrom collections import defaultdict\nimport curses\n\nfile_name = \"data.json\"\nos.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ncategory_name = \"categories.json\"\n\ndef load_event_themes():\n    with open(category_name, \"r\") as file:\n        data = json.load(file)\n        return data[\"categories\"]\n\nevent_theme_options = load_event_themes()\n\ndef format_event_date(event_date):\n    return datetime.strptime(event_date, \"%a %b %d %Y\").strftime(\"%m/%d/%Y\")\n\ndef validate_date(date_str):\n    try:\n        dt = datetime.strptime(date_str, \"%m/%d/%Y\")\n        return dt.strftime(\"%a %b %d %Y\")\n    except ValueError:\n        return None\n\n\ndef load_bills():\n    try:\n        with open(file_name, \"r\") as file:\n            return json.load(file)\n    except:\n        return {\"bills\":[]}\n\ndef save_bills(bills):\n    try:\n        with open(file_name, \"w\") as file:\n            json.dump(bills, file, indent=4)\n    except:\n        print(\"Failed to save.\")\n\ndef group_paid_bills_by_theme(bills):\n    grouped_totals = defaultdict(float)\n    longest_name = max(len(bill['event_theme']) for bill in bills['bills'])\n\n    for bill in bills['bills']:\n        if bill[\"paid\"] == 1:\n            grouped_totals[bill[\"event_theme\"]] += bill[\"amount\"]\n\n    print(\"\\033[1;32mTotal Amount for Paid Bills:\\033[0m\\n\")\n    for theme, total in grouped_totals.items():\n        print(f\"{theme.ljust(longest_name)}: ${total:.2f}\")\n\ndef view_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    bills_list = sorted(bills[\"bills\"], key=lambda bill: datetime.strptime(bill[\"event_date\"], \"%a %b %d %Y\"), reverse=True)\n\n    if not bills_list:\n        print('\\033[1;32mNo Bills to display!\\033[0m')\n        input(\"\\nPress Enter to return to the menu...\")\n    else:\n        print(\"\\033[1;32mYour bills:\\033[0m\\n\")\n\n        longest_name = max(len(bill[\"event_theme\"]) for bill in bills_list)\n\n        for bill in bills_list:\n            status = \"[Paid]\" if bill[\"paid\"] == 1 else \"      \"\n            print(f\"- {format_event_date(bill['event_date'])} - {bill['event_theme'].ljust(longest_name)} {status} ${bill['amount']}\")\n\n        input(\"\\nPress Enter to return to the menu...\")\n        os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ndef view_unpaid_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    bills_list = sorted(bills[\"bills\"], key=lambda bill: datetime.strptime(bill[\"event_date\"], \"%a %b %d %Y\"), reverse=True)\n\n    if len(bills_list) == 0:\n        print('\\033[1;32mNo Bills to display!\\033[0m')\n        input(\"\\nPress Enter to return to the menu...\")\n    else:\n        print(\"\\033[1;32mYour UNPAID bills:\\033[0m\\n\")\n        \n        longest_name = max(len(bill['event_theme']) for bill in bills_list)\n\n        for idx, bill in enumerate(bills_list):\n            if bill['paid'] != 1:\n                status = \"âœ…\" if bill['paid'] == 1 else \"\"\n                print(f\"{idx + 1}. {format_event_date(bill['event_date'])} - {bill['event_theme'].ljust(longest_name)} {status} ${bill['amount']}\")\n\ndef add_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    print(\"\\033[1;32mðŸ’° Add a New Bill ðŸ’³\\033[0m\\n\")\n\n    while True:\n        event_date_input = input(\"Enter the event date (MM/DD/YYYY): \").strip()\n        event_date = validate_date(event_date_input)\n        if event_date:\n            break\n        print(\"Invalid date format. Please enter a valid date in MM/DD/YYYY format.\")\n\n    print(\"\\nSelect an event theme:\")\n    for idx, option in enumerate(event_theme_options, start=1):\n        print(f\"{idx}. {option}\")\n    \n    while True:\n        try:\n            theme_choice = int(input(\"\\nEnter the number corresponding to the event theme: \"))\n            if 1 <= theme_choice <= len(event_theme_options):\n                event_theme = event_theme_options[theme_choice - 1]\n                break\n            print(\"Invalid choice. Please select a valid number.\")\n        except ValueError:\n            print(\"Enter a valid number.\")\n\n    paid = int(input(\"Is the bill paid? (1 for Yes, 0 for No): \").strip())\n    amount = float(input(\"Enter the amount: \").strip())\n\n    icons = {\n        \"Rent\": \"fas fa-home\",\n        \"Car Insurance\": \"fas fa-bolt\",\n        \"Internet\": \"fas fa-network-wired\",\n        \"Groceries\": \"fas fa-shopping-cart\"\n    }\n    icon = icons.get(event_theme, \"fas fa-file-invoice\")\n\n    new_bill = {\n        \"event_date\": event_date,\n        \"event_theme\": event_theme,\n        \"paid\": paid,\n        \"amount\": amount,\n        \"icon\": icon\n    }\n\n    bills[\"bills\"].append(new_bill)\n\n    try:\n        with open(file_name, \"w\") as file:\n            json.dump(bills, file, indent=4)\n        print(\"\\nill added successfully!\")\n    except:\n        print(\"Failed to save the bill.\")\n\n    input(\"\\nPress Enter to return to the menu...\")\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ndef delete_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    print(\"\\033[1;32m Delete a Bill\\033[0m\")\n\n    if not bills[\"bills\"]:\n        print(\"No bills to delete.\")\n        input(\"\\nPress Enter to return to the menu...\")\n        os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n        return\n\n    indexed_bills = sorted(\n        [(idx, bill) for idx, bill in enumerate(bills[\"bills\"])],\n        key=lambda item: datetime.strptime(item[1][\"event_date\"], \"%a %b %d %Y\"),\n        reverse=True\n    )\n\n    longest_name = max(len(bill[\"event_theme\"]) for _, bill in indexed_bills)\n\n    print(\"\\nSelect a bill to delete:\\n\")\n    for display_idx, (original_idx, bill) in enumerate(indexed_bills, start=1):\n        status = \"[Paid]\" if bill[\"paid\"] == 1 else \"      \"\n        print(f\"{display_idx}. {format_event_date(bill['event_date'])} - {bill['event_theme'].ljust(longest_name)} {status} ${bill['amount']}\")\n\n    while True:\n        try:\n            choice = input(\"\\nEnter the number of the bill to delete (or 'b' to go back): \").strip()\n            if choice.lower() == \"b\":\n                print(\"Returning to main menu...\")\n                os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n                return\n\n            bill_index = int(choice) - 1\n            if 0 <= bill_index < len(indexed_bills):\n                original_idx = indexed_bills[bill_index][0]  # Get original index before sorting\n                del bills[\"bills\"][original_idx]  # Remove the correct bill from the original list\n\n                with open(file_name, \"w\") as file:\n                    json.dump(bills, file, indent=4)\n\n                print(\"\\nBill deleted successfully!\")\n                break\n            else:\n                print(\"Invalid selection. Please choose a valid bill number.\")\n        except ValueError:\n            print(\"Enter a valid number.\")\n\n    input(\"\\nPress Enter to return to the menu...\")\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ndef pay_bills(bills):\n    unpaid_bills = sorted(\n        [(idx, bill) for idx, bill in enumerate(bills[\"bills\"]) if bill[\"paid\"] != 1],\n        key=lambda item: datetime.strptime(item[1][\"event_date\"], \"%a %b %d %Y\"), reverse=True\n    )\n\n    if not unpaid_bills:\n        print(\"\\033[1;32mNo unpaid bills to pay!\\033[0m\")\n        input(\"\\nPress Enter to return to the menu...\")\n        return\n\n    print(\"\\033[1;32mSelect a bill to mark as paid:\\033[0m\\n\")\n    for display_idx, (original_idx, bill) in enumerate(unpaid_bills, start=1):\n        print(f\"{display_idx}. {format_event_date(bill['event_date'])} - {bill['event_theme']}\")\n\n    while True:\n        user_input = input(\"\\nEnter the task number to mark as paid (or 'b' to go back): \").strip()\n\n        if user_input.lower() == \"b\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            return\n\n        try:\n            task_number = int(user_input)\n            if 1 <= task_number <= len(unpaid_bills):\n                original_idx = unpaid_bills[task_number - 1][0]\n                bills[\"bills\"][original_idx][\"paid\"] = 1\n                save_bills(bills)\n                print(\"Bills marked as paid.\")\n                return\n            else:\n                print(\"Invalid bill number. Please choose a valid number from the list.\")\n\n        except ValueError:\n            print(\"Enter a valid number.\")\n\ndef welcome_screen(stdscr):\n    curses.curs_set(0)\n    stdscr.clear()\n    stdscr.refresh()\n    height, width = stdscr.getmaxyx()\n    message = \"ðŸ’°ðŸ‡±ðŸ‡ºðŸ’°  Welcome to Bill Manager! ðŸš€ðŸ”¥ðŸ’³\"\n    prompt = \"Press Enter to continue...\"\n    bottom = \"made by Robin te Hofstee\"\n    stdscr.addstr(height // 2 - 1, (width - len(message)) // 2, message)\n    stdscr.addstr(height // 2 + 1, (width - len(prompt)) // 2, prompt)\n    stdscr.addstr(height // 2 + 10, (width - len(bottom)) // 2, bottom)\n    stdscr.refresh()\n    stdscr.getch()\n\ndef exit_screen(stdscr):\n    curses.curs_set(0)\n    stdscr.clear()\n    stdscr.refresh()\n    height, width = stdscr.getmaxyx()\n    message = \"ðŸ‘‹ Thanks for using the program! ðŸš€\"\n    prompt = \"Press any key to exit...\"\n    stdscr.addstr(height // 2 - 1, (width - len(message)) // 2, message)\n    stdscr.addstr(height // 2 + 1, (width - len(prompt)) // 2, prompt)\n    stdscr.refresh()\n    stdscr.getch()\n\ndef main():\n    bills = load_bills()\n    \n    while True:\n        print(\"\\033[1;32mBill Manager\\033[0m\\n\")\n        print(\"1. View Bills\\n2. View Unpaid Bills\\n3. Add Bills\\n4. Pay Bills\\n5. Delete Bills\\n6. Grouped Bills\\n7. Exit\\n\")\n        choice = input(\"Enter Your Choice: \").strip()\n\n        if choice == \"1\":\n            view_bills(bills)\n        elif choice == \"2\":\n            view_unpaid_bills(bills)\n            input(\"\\nPress Enter to return to the menu...\")\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n        elif choice == \"3\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            add_bills(bills)\n        elif choice == \"4\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            pay_bills(bills)\n        elif choice == \"5\":\n            delete_bills(bills)\n        elif choice == \"6\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            group_paid_bills_by_theme(bills)\n            input(\"\\nPress Enter to return to the menu...\")\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n        elif choice == \"7\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n           # curses.wrapper(exit_screen)\n            break\n        else:\n            print(\"Invalid choice. Please try again\")\n            sleep(1)\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\n\n#curses.wrapper(welcome_screen)\nmain()\n```\n\nand this is the data.json file:\n\n```\n{\n    \"bills\": [\n        {\n            \"event_date\": \"Wed Apr 23 2025\",\n            \"event_theme\": \"Internet\",\n            \"paid\": 1,\n            \"amount\": 114.95,\n            \"icon\": \"fas fa-network-wired\"\n        },\n        {\n            \"event_date\": \"Sat Apr 05 2025\",\n            \"event_theme\": \"Car Insurance\",\n            \"paid\": 1,\n            \"amount\": 0,\n            \"icon\": \"fas fa-car-burst\"\n        },\n        {\n            \"event_date\": \"Fri May 23 2025\",\n            \"event_theme\": \"Internet\",\n            \"paid\": 0,\n            \"amount\": 114.95,\n            \"icon\": \"fas fa-network-wired\"\n        },\n        {\n            \"event_date\": \"Mon May 05 2025\",\n            \"event_theme\": \"Car Insurance\",\n            \"paid\": 1,\n            \"amount\": 92.27,\n            \"icon\": \"fas fa-car-burst\"\n        }\n    ]\n}\n```\n\n### Line-by-Line Explanation\n\n- - -\n\n#### ```import json```\n\n- - -\n\nThis line imports the `json` module, which is used to load and save JSON files containing bill data.\n\n#### ```import os```\n\n- - -\n\nThis line imports the `os` module, which provides a way to interact with the operating system (e.g., clearing the screen).\n\n#### ```from datetime import datetime```\n\n- - -\n\nThis line imports the `datetime` class from the `datetime` module, which is used to work with dates and times.\n\n#### `from time import sleep`\n\n- - -\n\nThis line imports the `sleep` function from the `time` module, which is used to pause the program for a short period of time (e.g., when displaying a message).\n\n#### ```from collections import defaultdict```\n\n- - -\n\nThis line imports the `defaultdict` class from the `collections` module, which is used to create a dictionary with default values.\n\n### Functions\n\n- - -\n\n#### ```welcome_screen(stdscr)```\n\n- - -\n\nThis function is called by the `curses.wrapper()` function to display the welcome screen. It uses the `stdscr` object to clear the screen and print a message.\n\n#### ```exit_screen(stdscr)```\n\n- - -\n\nThis function is called by the `curses.wrapper()` function to display the exit screen. It uses the `stdscr` object to clear the screen and print a message.\n\n### Main Function\n\n- - -\n\n#### ```main()```\n\n- - -\n\nThis is the main entry point of the program. It loads the bill data from a JSON file, then enters an infinite loop where it repeatedly displays the menu and waits for user input.\n\n### Menu Options\n\n- - -\n\nThe menu options are:\n\n1.  View Bills: Displays all bills.\n2.  View Unpaid Bills: Displays only unpaid bills.\n3.  Add Bills: Allows users to add new bills.\n4.  Pay Bills: Marks a bill as paid.\n5.  Delete Bills: Deletes a bill.\n6.  Grouped Bills: Groups paid bills by theme.\n7.  Exit: Exits the program.\n\n### Code Blocks\n\n- - -\n\nThe code blocks are:\n\n*   `add_bills(bills)`: Adds a new bill to the list of bills.\n*   `view_bills(bills)`: Displays all bills.\n*   `view_unpaid_bills(bills)`: Displays only unpaid bills.\n*   `pay_bills(bills)`: Marks a bill as paid.\n*   `delete_bills(bills)`: Deletes a bill.\n*   `group_paid_bills_by_theme(bills)`: Groups paid bills by theme.",
    "code": "var Component=(()=>{var m=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var _=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),v=(i,e)=>{for(var t in e)s(i,t,{get:e[t],enumerable:!0})},a=(i,e,t,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of b(e))!f.call(i,l)&&l!==t&&s(i,l,{get:()=>e[l],enumerable:!(r=p(e,l))||r.enumerable});return i};var y=(i,e,t)=>(t=i!=null?m(u(i)):{},a(e||!i||!i.__esModule?s(t,\"default\",{value:i,enumerable:!0}):t,i)),g=i=>a(s({},\"__esModule\",{value:!0}),i);var d=_((E,o)=>{o.exports=_jsx_runtime});var x={};v(x,{default:()=>h,frontmatter:()=>w});var n=y(d()),w={title:\"Python Bill Manager\",date:\"2025-05-20\",tags:[\"Python\",\"code\"],draft:!1,summary:\"The Bill Manager is a simple command-line program that allows users to manage their bills, made with Python.\"};function c(i){let e={code:\"code\",h1:\"h1\",h3:\"h3\",h4:\"h4\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:(0,n.jsx)(e.strong,{children:\"Bill Manager Tutorial\"})}),`\n`,(0,n.jsx)(e.h3,{children:\"Introduction\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"The Bill Manager is a simple command-line program that allows users to manage their bills. This tutorial will walk you through each line of code, explaining what it does and how it contributes to the overall functionality of the program.\"}),`\n`,(0,n.jsx)(e.p,{children:\"This is the full code of the app. Underneath you'll find an explantion of what every function does.\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`import json\nimport os\nfrom datetime import datetime\nfrom time import sleep\nfrom collections import defaultdict\nimport curses\n\nfile_name = \"data.json\"\nos.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ncategory_name = \"categories.json\"\n\ndef load_event_themes():\n    with open(category_name, \"r\") as file:\n        data = json.load(file)\n        return data[\"categories\"]\n\nevent_theme_options = load_event_themes()\n\ndef format_event_date(event_date):\n    return datetime.strptime(event_date, \"%a %b %d %Y\").strftime(\"%m/%d/%Y\")\n\ndef validate_date(date_str):\n    try:\n        dt = datetime.strptime(date_str, \"%m/%d/%Y\")\n        return dt.strftime(\"%a %b %d %Y\")\n    except ValueError:\n        return None\n\n\ndef load_bills():\n    try:\n        with open(file_name, \"r\") as file:\n            return json.load(file)\n    except:\n        return {\"bills\":[]}\n\ndef save_bills(bills):\n    try:\n        with open(file_name, \"w\") as file:\n            json.dump(bills, file, indent=4)\n    except:\n        print(\"Failed to save.\")\n\ndef group_paid_bills_by_theme(bills):\n    grouped_totals = defaultdict(float)\n    longest_name = max(len(bill['event_theme']) for bill in bills['bills'])\n\n    for bill in bills['bills']:\n        if bill[\"paid\"] == 1:\n            grouped_totals[bill[\"event_theme\"]] += bill[\"amount\"]\n\n    print(\"\\\\033[1;32mTotal Amount for Paid Bills:\\\\033[0m\\\\n\")\n    for theme, total in grouped_totals.items():\n        print(f\"{theme.ljust(longest_name)}: \\${total:.2f}\")\n\ndef view_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    bills_list = sorted(bills[\"bills\"], key=lambda bill: datetime.strptime(bill[\"event_date\"], \"%a %b %d %Y\"), reverse=True)\n\n    if not bills_list:\n        print('\\\\033[1;32mNo Bills to display!\\\\033[0m')\n        input(\"\\\\nPress Enter to return to the menu...\")\n    else:\n        print(\"\\\\033[1;32mYour bills:\\\\033[0m\\\\n\")\n\n        longest_name = max(len(bill[\"event_theme\"]) for bill in bills_list)\n\n        for bill in bills_list:\n            status = \"[Paid]\" if bill[\"paid\"] == 1 else \"      \"\n            print(f\"- {format_event_date(bill['event_date'])} - {bill['event_theme'].ljust(longest_name)} {status} \\${bill['amount']}\")\n\n        input(\"\\\\nPress Enter to return to the menu...\")\n        os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ndef view_unpaid_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    bills_list = sorted(bills[\"bills\"], key=lambda bill: datetime.strptime(bill[\"event_date\"], \"%a %b %d %Y\"), reverse=True)\n\n    if len(bills_list) == 0:\n        print('\\\\033[1;32mNo Bills to display!\\\\033[0m')\n        input(\"\\\\nPress Enter to return to the menu...\")\n    else:\n        print(\"\\\\033[1;32mYour UNPAID bills:\\\\033[0m\\\\n\")\n        \n        longest_name = max(len(bill['event_theme']) for bill in bills_list)\n\n        for idx, bill in enumerate(bills_list):\n            if bill['paid'] != 1:\n                status = \"\\u2705\" if bill['paid'] == 1 else \"\"\n                print(f\"{idx + 1}. {format_event_date(bill['event_date'])} - {bill['event_theme'].ljust(longest_name)} {status} \\${bill['amount']}\")\n\ndef add_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    print(\"\\\\033[1;32m\\u{1F4B0} Add a New Bill \\u{1F4B3}\\\\033[0m\\\\n\")\n\n    while True:\n        event_date_input = input(\"Enter the event date (MM/DD/YYYY): \").strip()\n        event_date = validate_date(event_date_input)\n        if event_date:\n            break\n        print(\"Invalid date format. Please enter a valid date in MM/DD/YYYY format.\")\n\n    print(\"\\\\nSelect an event theme:\")\n    for idx, option in enumerate(event_theme_options, start=1):\n        print(f\"{idx}. {option}\")\n    \n    while True:\n        try:\n            theme_choice = int(input(\"\\\\nEnter the number corresponding to the event theme: \"))\n            if 1 <= theme_choice <= len(event_theme_options):\n                event_theme = event_theme_options[theme_choice - 1]\n                break\n            print(\"Invalid choice. Please select a valid number.\")\n        except ValueError:\n            print(\"Enter a valid number.\")\n\n    paid = int(input(\"Is the bill paid? (1 for Yes, 0 for No): \").strip())\n    amount = float(input(\"Enter the amount: \").strip())\n\n    icons = {\n        \"Rent\": \"fas fa-home\",\n        \"Car Insurance\": \"fas fa-bolt\",\n        \"Internet\": \"fas fa-network-wired\",\n        \"Groceries\": \"fas fa-shopping-cart\"\n    }\n    icon = icons.get(event_theme, \"fas fa-file-invoice\")\n\n    new_bill = {\n        \"event_date\": event_date,\n        \"event_theme\": event_theme,\n        \"paid\": paid,\n        \"amount\": amount,\n        \"icon\": icon\n    }\n\n    bills[\"bills\"].append(new_bill)\n\n    try:\n        with open(file_name, \"w\") as file:\n            json.dump(bills, file, indent=4)\n        print(\"\\\\nill added successfully!\")\n    except:\n        print(\"Failed to save the bill.\")\n\n    input(\"\\\\nPress Enter to return to the menu...\")\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ndef delete_bills(bills):\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n    print(\"\\\\033[1;32m Delete a Bill\\\\033[0m\")\n\n    if not bills[\"bills\"]:\n        print(\"No bills to delete.\")\n        input(\"\\\\nPress Enter to return to the menu...\")\n        os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n        return\n\n    indexed_bills = sorted(\n        [(idx, bill) for idx, bill in enumerate(bills[\"bills\"])],\n        key=lambda item: datetime.strptime(item[1][\"event_date\"], \"%a %b %d %Y\"),\n        reverse=True\n    )\n\n    longest_name = max(len(bill[\"event_theme\"]) for _, bill in indexed_bills)\n\n    print(\"\\\\nSelect a bill to delete:\\\\n\")\n    for display_idx, (original_idx, bill) in enumerate(indexed_bills, start=1):\n        status = \"[Paid]\" if bill[\"paid\"] == 1 else \"      \"\n        print(f\"{display_idx}. {format_event_date(bill['event_date'])} - {bill['event_theme'].ljust(longest_name)} {status} \\${bill['amount']}\")\n\n    while True:\n        try:\n            choice = input(\"\\\\nEnter the number of the bill to delete (or 'b' to go back): \").strip()\n            if choice.lower() == \"b\":\n                print(\"Returning to main menu...\")\n                os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n                return\n\n            bill_index = int(choice) - 1\n            if 0 <= bill_index < len(indexed_bills):\n                original_idx = indexed_bills[bill_index][0]  # Get original index before sorting\n                del bills[\"bills\"][original_idx]  # Remove the correct bill from the original list\n\n                with open(file_name, \"w\") as file:\n                    json.dump(bills, file, indent=4)\n\n                print(\"\\\\nBill deleted successfully!\")\n                break\n            else:\n                print(\"Invalid selection. Please choose a valid bill number.\")\n        except ValueError:\n            print(\"Enter a valid number.\")\n\n    input(\"\\\\nPress Enter to return to the menu...\")\n    os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\ndef pay_bills(bills):\n    unpaid_bills = sorted(\n        [(idx, bill) for idx, bill in enumerate(bills[\"bills\"]) if bill[\"paid\"] != 1],\n        key=lambda item: datetime.strptime(item[1][\"event_date\"], \"%a %b %d %Y\"), reverse=True\n    )\n\n    if not unpaid_bills:\n        print(\"\\\\033[1;32mNo unpaid bills to pay!\\\\033[0m\")\n        input(\"\\\\nPress Enter to return to the menu...\")\n        return\n\n    print(\"\\\\033[1;32mSelect a bill to mark as paid:\\\\033[0m\\\\n\")\n    for display_idx, (original_idx, bill) in enumerate(unpaid_bills, start=1):\n        print(f\"{display_idx}. {format_event_date(bill['event_date'])} - {bill['event_theme']}\")\n\n    while True:\n        user_input = input(\"\\\\nEnter the task number to mark as paid (or 'b' to go back): \").strip()\n\n        if user_input.lower() == \"b\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            return\n\n        try:\n            task_number = int(user_input)\n            if 1 <= task_number <= len(unpaid_bills):\n                original_idx = unpaid_bills[task_number - 1][0]\n                bills[\"bills\"][original_idx][\"paid\"] = 1\n                save_bills(bills)\n                print(\"Bills marked as paid.\")\n                return\n            else:\n                print(\"Invalid bill number. Please choose a valid number from the list.\")\n\n        except ValueError:\n            print(\"Enter a valid number.\")\n\ndef welcome_screen(stdscr):\n    curses.curs_set(0)\n    stdscr.clear()\n    stdscr.refresh()\n    height, width = stdscr.getmaxyx()\n    message = \"\\u{1F4B0}\\u{1F1F1}\\u{1F1FA}\\u{1F4B0}  Welcome to Bill Manager! \\u{1F680}\\u{1F525}\\u{1F4B3}\"\n    prompt = \"Press Enter to continue...\"\n    bottom = \"made by Robin te Hofstee\"\n    stdscr.addstr(height // 2 - 1, (width - len(message)) // 2, message)\n    stdscr.addstr(height // 2 + 1, (width - len(prompt)) // 2, prompt)\n    stdscr.addstr(height // 2 + 10, (width - len(bottom)) // 2, bottom)\n    stdscr.refresh()\n    stdscr.getch()\n\ndef exit_screen(stdscr):\n    curses.curs_set(0)\n    stdscr.clear()\n    stdscr.refresh()\n    height, width = stdscr.getmaxyx()\n    message = \"\\u{1F44B} Thanks for using the program! \\u{1F680}\"\n    prompt = \"Press any key to exit...\"\n    stdscr.addstr(height // 2 - 1, (width - len(message)) // 2, message)\n    stdscr.addstr(height // 2 + 1, (width - len(prompt)) // 2, prompt)\n    stdscr.refresh()\n    stdscr.getch()\n\ndef main():\n    bills = load_bills()\n    \n    while True:\n        print(\"\\\\033[1;32mBill Manager\\\\033[0m\\\\n\")\n        print(\"1. View Bills\\\\n2. View Unpaid Bills\\\\n3. Add Bills\\\\n4. Pay Bills\\\\n5. Delete Bills\\\\n6. Grouped Bills\\\\n7. Exit\\\\n\")\n        choice = input(\"Enter Your Choice: \").strip()\n\n        if choice == \"1\":\n            view_bills(bills)\n        elif choice == \"2\":\n            view_unpaid_bills(bills)\n            input(\"\\\\nPress Enter to return to the menu...\")\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n        elif choice == \"3\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            add_bills(bills)\n        elif choice == \"4\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            pay_bills(bills)\n        elif choice == \"5\":\n            delete_bills(bills)\n        elif choice == \"6\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n            group_paid_bills_by_theme(bills)\n            input(\"\\\\nPress Enter to return to the menu...\")\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n        elif choice == \"7\":\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n           # curses.wrapper(exit_screen)\n            break\n        else:\n            print(\"Invalid choice. Please try again\")\n            sleep(1)\n            os.system(\"cls\" if os.name == \"nt\" else \"clear\")\n\n\n#curses.wrapper(welcome_screen)\nmain()\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"and this is the data.json file:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`{\n    \"bills\": [\n        {\n            \"event_date\": \"Wed Apr 23 2025\",\n            \"event_theme\": \"Internet\",\n            \"paid\": 1,\n            \"amount\": 114.95,\n            \"icon\": \"fas fa-network-wired\"\n        },\n        {\n            \"event_date\": \"Sat Apr 05 2025\",\n            \"event_theme\": \"Car Insurance\",\n            \"paid\": 1,\n            \"amount\": 0,\n            \"icon\": \"fas fa-car-burst\"\n        },\n        {\n            \"event_date\": \"Fri May 23 2025\",\n            \"event_theme\": \"Internet\",\n            \"paid\": 0,\n            \"amount\": 114.95,\n            \"icon\": \"fas fa-network-wired\"\n        },\n        {\n            \"event_date\": \"Mon May 05 2025\",\n            \"event_theme\": \"Car Insurance\",\n            \"paid\": 1,\n            \"amount\": 92.27,\n            \"icon\": \"fas fa-car-burst\"\n        }\n    ]\n}\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"Line-by-Line Explanation\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"import json\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This line imports the \",(0,n.jsx)(e.code,{children:\"json\"}),\" module, which is used to load and save JSON files containing bill data.\"]}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"import os\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This line imports the \",(0,n.jsx)(e.code,{children:\"os\"}),\" module, which provides a way to interact with the operating system (e.g., clearing the screen).\"]}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"from datetime import datetime\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This line imports the \",(0,n.jsx)(e.code,{children:\"datetime\"}),\" class from the \",(0,n.jsx)(e.code,{children:\"datetime\"}),\" module, which is used to work with dates and times.\"]}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"from time import sleep\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This line imports the \",(0,n.jsx)(e.code,{children:\"sleep\"}),\" function from the \",(0,n.jsx)(e.code,{children:\"time\"}),\" module, which is used to pause the program for a short period of time (e.g., when displaying a message).\"]}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"from collections import defaultdict\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This line imports the \",(0,n.jsx)(e.code,{children:\"defaultdict\"}),\" class from the \",(0,n.jsx)(e.code,{children:\"collections\"}),\" module, which is used to create a dictionary with default values.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Functions\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"welcome_screen(stdscr)\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This function is called by the \",(0,n.jsx)(e.code,{children:\"curses.wrapper()\"}),\" function to display the welcome screen. It uses the \",(0,n.jsx)(e.code,{children:\"stdscr\"}),\" object to clear the screen and print a message.\"]}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"exit_screen(stdscr)\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"This function is called by the \",(0,n.jsx)(e.code,{children:\"curses.wrapper()\"}),\" function to display the exit screen. It uses the \",(0,n.jsx)(e.code,{children:\"stdscr\"}),\" object to clear the screen and print a message.\"]}),`\n`,(0,n.jsx)(e.h3,{children:\"Main Function\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.h4,{children:(0,n.jsx)(e.code,{children:\"main()\"})}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"This is the main entry point of the program. It loads the bill data from a JSON file, then enters an infinite loop where it repeatedly displays the menu and waits for user input.\"}),`\n`,(0,n.jsx)(e.h3,{children:\"Menu Options\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"The menu options are:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"View Bills: Displays all bills.\"}),`\n`,(0,n.jsx)(e.li,{children:\"View Unpaid Bills: Displays only unpaid bills.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Add Bills: Allows users to add new bills.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Pay Bills: Marks a bill as paid.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Delete Bills: Deletes a bill.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Grouped Bills: Groups paid bills by theme.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Exit: Exits the program.\"}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{children:\"Code Blocks\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"The code blocks are:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"add_bills(bills)\"}),\": Adds a new bill to the list of bills.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"view_bills(bills)\"}),\": Displays all bills.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"view_unpaid_bills(bills)\"}),\": Displays only unpaid bills.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"pay_bills(bills)\"}),\": Marks a bill as paid.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"delete_bills(bills)\"}),\": Deletes a bill.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"group_paid_bills_by_theme(bills)\"}),\": Groups paid bills by theme.\"]}),`\n`]})]})}function h(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(c,{...i})}):c(i)}return g(x);})();\n;return Component;"
  },
  "_id": "bills_manager.mdx",
  "_raw": {
    "sourceFilePath": "bills_manager.mdx",
    "sourceFileName": "bills_manager.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "bills_manager"
  },
  "type": "Post",
  "url": "/blog/bills_manager",
  "slug": "bills_manager",
  "readingTime": 11
}