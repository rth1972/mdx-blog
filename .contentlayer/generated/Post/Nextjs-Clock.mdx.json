{
  "title": "Create clock component NextJS",
  "date": "2024-06-10T00:00:00.000Z",
  "tags": [
    "NextJS",
    "code"
  ],
  "body": {
    "raw": "\n## How to Create a live clock component in Nextjs.\n\nHere's a step-by-step breakdown:\n\n1. **Importing Dependencies**: The first line imports the `React` library, along with the `useState` and `useEffect` hooks from 'react'.\n\n```jsx\nimport React, { useState, useEffect } from 'react';\n```\n\n2. **Type Definition**: The `Props` type is defined to specify the shape of the props that the `Clock` component expects. It expects an object with a `time` property of type `number`.\n\n```jsx\ntype Props = {\n  time:number\n}\n```\n\n3. **Clock Component**: The `Clock` component is defined as a functional component that takes `Props` as its argument. The `time` property from the props is destructured and renamed to `initial`.\n\n```jsx\nconst Clock = ({time: initial}: Props) => {\n```\n\n4. **State Initialization**: The `useState` hook is used to create a state variable `time` and a function `setTime` to update it. The initial state is set to a new `Date` object created with the `initial` prop.\n\n```jsx\nconst [isClient, setIsClient] = useState(false);\nconst [time, setTime] = useState(new Date(initial))\n```\n\n5. **Effect Hook**: The `useEffect` hook is used to create a side effect that runs after render. In this case, it sets up a timer that updates the `time` state every second.\n\n```jsx\nuseEffect(() => {\n setIsClient(true);\n  const timer = setInterval(() => {\n    setTime(new Date())\n  }, 1000)\n\n  return () =>  clearInterval(timer)\n}, []);\n```\n\n6. **Rendering**: The component returns a `div` element that displays the current time and date.\n\n```jsx\nreturn (\n  <div className=&quot;relative w-full flex flex-col&quot;>\n      <div>{time.toLocaleTimeString()}</div>\n      <div>{time.toLocaleDateString()}</div>\n  </div>\n);\n```\n\n7. **Exporting the Component**: Finally, the `Clock` component is exported for use in other parts of the application.\n\n```jsx\nexport default Clock\n```\n\nThis component will display the current time and date, and it will update every second. The time and date are displayed using the `toLocaleTimeString` and `toLocaleDateString` methods of the `Date` object, which format the time and date according to the user's locale. The `useEffect` hook ensures that the timer is cleared when the component is unmounted, preventing memory leaks. I hope this explanation helps! Let me know if you have any other questions. ðŸ˜Š",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var m=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),F=(l,e)=>{for(var t in e)a(l,t,{get:e[t],enumerable:!0})},i=(l,e,t,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of E(e))!g.call(l,r)&&r!==t&&a(l,r,{get:()=>e[r],enumerable:!(c=y(e,r))||c.enumerable});return l};var f=(l,e,t)=>(t=l!=null?p(u(l)):{},i(e||!l||!l.__esModule?a(t,\"default\",{value:l,enumerable:!0}):t,l)),x=l=>i(a({},\"__esModule\",{value:!0}),l);var d=m((j,o)=>{o.exports=_jsx_runtime});var k={};F(k,{default:()=>h,frontmatter:()=>B});var n=f(d()),B={title:\"Create clock component NextJS\",date:\"2024-06-10\",tags:[\"NextJS\",\"code\"],draft:!1,summary:\"How to create a clock component in NextJS.\",images:[\"clock.jpeg\"]};function s(l){let e={code:\"code\",figure:\"figure\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{children:\"How to Create a live clock component in Nextjs.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Here's a step-by-step breakdown:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Importing Dependencies\"}),\": The first line imports the \",(0,n.jsx)(e.code,{children:\"React\"}),\" library, along with the \",(0,n.jsx)(e.code,{children:\"useState\"}),\" and \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" hooks from 'react'.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" React, { useState, useEffect } \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" 'react'\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"2\",children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Type Definition\"}),\": The \",(0,n.jsx)(e.code,{children:\"Props\"}),\" type is defined to specify the shape of the props that the \",(0,n.jsx)(e.code,{children:\"Clock\"}),\" component expects. It expects an object with a \",(0,n.jsx)(e.code,{children:\"time\"}),\" property of type \",(0,n.jsx)(e.code,{children:\"number\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"type\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Props\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"  time\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"number\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"3\",children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Clock Component\"}),\": The \",(0,n.jsx)(e.code,{children:\"Clock\"}),\" component is defined as a functional component that takes \",(0,n.jsx)(e.code,{children:\"Props\"}),\" as its argument. The \",(0,n.jsx)(e.code,{children:\"time\"}),\" property from the props is destructured and renamed to \",(0,n.jsx)(e.code,{children:\"initial\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Clock\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" ({\"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"time\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,n.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"initial\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Props\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]})})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"4\",children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"State Initialization\"}),\": The \",(0,n.jsx)(e.code,{children:\"useState\"}),\" hook is used to create a state variable \",(0,n.jsx)(e.code,{children:\"time\"}),\" and a function \",(0,n.jsx)(e.code,{children:\"setTime\"}),\" to update it. The initial state is set to a new \",(0,n.jsx)(e.code,{children:\"Date\"}),\" object created with the \",(0,n.jsx)(e.code,{children:\"initial\"}),\" prop.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isClient\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setIsClient\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"time\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setTime\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(initial))\"})]})]})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"5\",children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Effect Hook\"}),\": The \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" hook is used to create a side effect that runs after render. In this case, it sets up a timer that updates the \",(0,n.jsx)(e.code,{children:\"time\"}),\" state every second.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setIsClient\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" timer\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    setTime\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  }, \"}),(0,n.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1000\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"  clearInterval\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(timer)\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}, []);\"})})]})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"6\",children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Rendering\"}),\": The component returns a \",(0,n.jsx)(e.code,{children:\"div\"}),\" element that displays the current time and date.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"=&quot;relative\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" w-full\"}),(0,n.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" flex\"}),(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\" flex-col&quot;>\"})]}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"      <div>{time.toLocaleTimeString()}</div>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"      <div>{time.toLocaleDateString()}</div>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\"  </div>\"})}),`\n`,(0,n.jsx)(e.span,{\"data-line\":\"\",children:(0,n.jsx)(e.span,{style:{color:\"#FDAEB7\",fontStyle:\"italic\"},children:\");\"})})]})})}),`\n`,(0,n.jsxs)(e.ol,{start:\"7\",children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Exporting the Component\"}),\": Finally, the \",(0,n.jsx)(e.code,{children:\"Clock\"}),\" component is exported for use in other parts of the application.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,n.jsx)(e.pre,{tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,n.jsx)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,n.jsxs)(e.span,{\"data-line\":\"\",children:[(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#F97583\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Clock\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"This component will display the current time and date, and it will update every second. The time and date are displayed using the \",(0,n.jsx)(e.code,{children:\"toLocaleTimeString\"}),\" and \",(0,n.jsx)(e.code,{children:\"toLocaleDateString\"}),\" methods of the \",(0,n.jsx)(e.code,{children:\"Date\"}),\" object, which format the time and date according to the user's locale. The \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" hook ensures that the timer is cleared when the component is unmounted, preventing memory leaks. I hope this explanation helps! Let me know if you have any other questions. \\u{1F60A}\"]})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(s,{...l})}):s(l)}return x(k);})();\n;return Component;"
  },
  "_id": "Nextjs-Clock.mdx",
  "_raw": {
    "sourceFilePath": "Nextjs-Clock.mdx",
    "sourceFileName": "Nextjs-Clock.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "Nextjs-Clock"
  },
  "type": "Post",
  "url": "/blog/Nextjs-Clock",
  "slug": "Nextjs-Clock",
  "readingTime": 3
}