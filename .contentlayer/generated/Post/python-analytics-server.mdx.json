{
  "title": "Building a Website Analytics System with Python Sockets",
  "date": "2025-05-17T00:00:00.000Z",
  "tags": [
    "Python",
    "code"
  ],
  "body": {
    "raw": "\nHere's a **full tutorial** explaining every part of the **web analytics server in python**.\n\n---\n\n# **ðŸ“Š Web Analytics Server in Python**\n\nThis tutorial walks through the **complete Python code** for a **web analytics system** using **sockets**. The server **logs visitor activity** and **retrieves analytics data**.\n\n---\n\n## **ðŸ“Œ Full Code**\n```python\nimport json\nimport socket\nimport threading\nfrom datetime import datetime\n\nPORT = 5050\nSERVER = \"localhost\"\nADDR = (SERVER, PORT)\nFORMAT = \"utf-8\"\nLOG_FILE = \"analytics.json\"\n\nserver = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver.bind(ADDR)\nserver.listen()\n\ndef handle_client(conn, addr):\n    print(f\"[NEW CONNECTION] {addr} Connected\")\n    request = conn.recv(1024).decode(FORMAT)\n    \n    if not request:\n        conn.close()\n        return\n    \n    if request.startswith(\"POST /send_message\"):\n        body = request.split(\"\\r\\n\\r\\n\")[-1]\n        log_visit(addr, body)\n        response = (\"HTTP/1.1 200 OK\\r\\n\"\n                    \"Access-Control-Allow-Origin: *\\r\\n\"\n                    \"Content-Type: text/plain\\r\\n\"\n                    \"Connection: close\\r\\n\\r\\n\"\n                    \"Message received successfully!\")\n        conn.sendall(response.encode(FORMAT))\n    \n    elif request.startswith(\"GET /get_analytics\"):\n        conn.sendall(get_analytics().encode(FORMAT))\n    \n    conn.close()\n\ndef log_visit(client_addr, page):\n    data = {\"ip\": client_addr[0], \"page\": page, \"timestamp\": str(datetime.now())}\n    \n    try:\n        with open(LOG_FILE, \"r\") as file:\n            logs = json.load(file)\n    except FileNotFoundError:\n        logs = []\n    \n    logs.append(data)\n    \n    with open(LOG_FILE, \"w\") as file:\n        json.dump(logs, file, indent=4)\n\ndef get_analytics():\n    try:\n        with open(LOG_FILE, \"r\") as file:\n            data = json.load(file)\n        return (\"HTTP/1.1 200 OK\\r\\n\"\n                \"Access-Control-Allow-Origin: *\\r\\n\"\n                \"Content-Type: application/json\\r\\n\"\n                \"Connection: close\\r\\n\\r\\n\"\n                + json.dumps(data))\n    except FileNotFoundError:\n        return (\"HTTP/1.1 404 Not Found\\r\\n\"\n                \"Access-Control-Allow-Origin: *\\r\\n\"\n                \"Content-Type: text/plain\\r\\n\"\n                \"Connection: close\\r\\n\\r\\n\"\n                \"No analytics data found.\")\n\ndef start():\n    print(\"[SERVER STARTED] Tracking analytics...\")\n    while True:\n        conn, addr = server.accept()\n        thread = threading.Thread(target=handle_client, args=(conn, addr))\n        thread.start()\n\nstart()\n```\n\n---\n\n## **ðŸ“– Explanation of the Code**\n\n### ðŸ”¹ **1. Importing Libraries**\n```python\nimport json\nimport socket\nimport threading\nfrom datetime import datetime\n```\n- **json** â†’ Handles visitor data storage.\n- **socket** â†’ Creates a TCP server to receive analytics data.\n- **threading** â†’ Runs multiple connections simultaneously.\n- **datetime** â†’ Logs timestamps for visits.\n\n---\n\n### ðŸ”¹ **2. Setting Up Server Variables**\n```python\nPORT = 5050\nSERVER = \"localhost\"\nADDR = (SERVER, PORT)\nFORMAT = \"utf-8\"\nLOG_FILE = \"analytics.json\"\n```\n- Defines the **server port** (`5050`).\n- Uses **localhost** (`127.0.0.1`).\n- Specifies the **file** where analytics logs are saved.\n\n---\n\n### ðŸ”¹ **3. Creating the Server**\n```python\nserver = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver.bind(ADDR)\nserver.listen()\n```\n- Creates a **TCP socket** for network communication.\n- **Binds** the socket to the IP and port.\n- Enables the **server to listen** for incoming connections.\n\n---\n\n### ðŸ”¹ **4. Handling Client Requests**\n```python\ndef handle_client(conn, addr):\n    print(f\"[NEW CONNECTION] {addr} Connected\")\n    request = conn.recv(1024).decode(FORMAT)\n    \n    if not request:\n        conn.close()\n        return\n```\n- Accepts **incoming client connections**.\n- Reads the **request data** from the client.\n- Closes the connection if no data is received.\n\n---\n\n### ðŸ”¹ **5. Processing Incoming HTTP Requests**\n```python\nif request.startswith(\"POST /send_message\"):\n    body = request.split(\"\\r\\n\\r\\n\")[-1]\n    log_visit(addr, body)\n    response = (\"HTTP/1.1 200 OK\\r\\n\"\n                \"Access-Control-Allow-Origin: *\\r\\n\"\n                \"Content-Type: text/plain\\r\\n\"\n                \"Connection: close\\r\\n\\r\\n\"\n                \"Message received successfully!\")\n    conn.sendall(response.encode(FORMAT))\n```\n- **Handles POST requests** (`send_message`).\n- **Extracts message body**.\n- Calls **log_visit()** to store user activity.\n- Sends an **HTTP response** confirming success.\n\n---\n\n### ðŸ”¹ **6. Retrieving Analytics Logs**\n```python\nelif request.startswith(\"GET /get_analytics\"):\n    conn.sendall(get_analytics().encode(FORMAT))\n```\n- Responds to **GET requests** (`get_analytics`).\n- Calls **get_analytics()** to fetch logs.\n\n---\n\n### ðŸ”¹ **7. Logging Visitor Activity**\n```python\ndef log_visit(client_addr, page):\n    data = {\"ip\": client_addr[0], \"page\": page, \"timestamp\": str(datetime.now())}\n    \n    try:\n        with open(LOG_FILE, \"r\") as file:\n            logs = json.load(file)\n    except FileNotFoundError:\n        logs = []\n    \n    logs.append(data)\n    \n    with open(LOG_FILE, \"w\") as file:\n        json.dump(logs, file, indent=4)\n```\n- **Creates** a JSON object containing:\n  - **Visitor IP** (`client_addr[0]`)\n  - **Page visited** (`page`)\n  - **Timestamp** (`datetime.now()`)\n- **Writes logs** into a JSON file.\n\n---\n\n### ðŸ”¹ **8. Fetching Analytics Data**\n```python\ndef get_analytics():\n    try:\n        with open(LOG_FILE, \"r\") as file:\n            data = json.load(file)\n        return (\"HTTP/1.1 200 OK\\r\\n\"\n                \"Access-Control-Allow-Origin: *\\r\\n\"\n                \"Content-Type: application/json\\r\\n\"\n                \"Connection: close\\r\\n\\r\\n\"\n                + json.dumps(data))\n    except FileNotFoundError:\n        return (\"HTTP/1.1 404 Not Found\\r\\n\"\n                \"Access-Control-Allow-Origin: *\\r\\n\"\n                \"Content-Type: text/plain\\r\\n\"\n                \"Connection: close\\r\\n\\r\\n\"\n                \"No analytics data found.\")\n```\n- Reads **visitor logs from JSON**.\n- Returns data in **HTTP response format**.\n- Handles cases where logs **donâ€™t exist**.\n\n---\n\n### ðŸ”¹ **9. Running the Server**\n```python\ndef start():\n    print(\"[SERVER STARTED] Tracking analytics...\")\n    while True:\n        conn, addr = server.accept()\n        thread = threading.Thread(target=handle_client, args=(conn, addr))\n        thread.start()\n```\n- Prints **server startup message**.\n- Continuously **accepts connections**.\n- Runs each connection in **a separate thread**.\n\n---\n\n### ðŸ”¹ **10. Starting the Server**\n```python\nstart()\n```\n- **Launches the server** to listen for requests.\n\n---\n\n## ðŸš€ **How to Use**\n### âœ… **Run the Server**\n```bash\npython server.py\n```\n### âœ… **Send Analytics Data**\nUse JavaScript:\n```javascript\nfetch(\"http://localhost:5050/send_message\", {\n    method: \"POST\",\n    body: \"User visited homepage!\"\n});\n```\n### âœ… **Retrieve Analytics**\nVisit:\n```\nhttp://localhost:5050/get_analytics\n```\n\n---\n\n## ðŸ”¥ **Next Steps**\nâœ… **Add Real-Time Analytics** with WebSockets  \nâœ… **Use a Database (SQLite/PostgreSQL)** for Storage  \nâœ… **Visualize Analytics** on a Website  \n\nLet me know if you want **real-time updates** or **frontend visualization**! ðŸš€\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var B=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),u=(e,n)=>{for(var r in n)c(e,r,{get:n[r],enumerable:!0})},o=(e,n,r,a)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let s of y(n))!g.call(e,s)&&s!==r&&c(e,s,{get:()=>n[s],enumerable:!(a=E(n,s))||a.enumerable});return e};var C=(e,n,r)=>(r=e!=null?p(F(e)):{},o(n||!e||!e.__esModule?c(r,\"default\",{value:e,enumerable:!0}):r,e)),m=e=>o(c({},\"__esModule\",{value:!0}),e);var t=B((A,i)=>{i.exports=_jsx_runtime});var b={};u(b,{default:()=>h,frontmatter:()=>f});var l=C(t()),f={title:\"Building a Website Analytics System with Python Sockets\",date:\"2025-05-17\",tags:[\"Python\",\"code\"],draft:!1,summary:\"Building a Website Analytics System with Python Sockets.\"};function d(e){let n={br:\"br\",code:\"code\",figure:\"figure\",h1:\"h1\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:[\"Here's a \",(0,l.jsx)(n.strong,{children:\"full tutorial\"}),\" explaining every part of the \",(0,l.jsx)(n.strong,{children:\"web analytics server in python\"}),\".\"]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h1,{children:(0,l.jsx)(n.strong,{children:\"\\u{1F4CA} Web Analytics Server in Python\"})}),`\n`,(0,l.jsxs)(n.p,{children:[\"This tutorial walks through the \",(0,l.jsx)(n.strong,{children:\"complete Python code\"}),\" for a \",(0,l.jsx)(n.strong,{children:\"web analytics system\"}),\" using \",(0,l.jsx)(n.strong,{children:\"sockets\"}),\". The server \",(0,l.jsx)(n.strong,{children:\"logs visitor activity\"}),\" and \",(0,l.jsx)(n.strong,{children:\"retrieves analytics data\"}),\".\"]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{children:(0,l.jsx)(n.strong,{children:\"\\u{1F4CC} Full Code\"})}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" socket\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" threading\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" datetime \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" datetime\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 5050\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"SERVER\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"localhost\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"ADDR\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"SERVER\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"utf-8\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"analytics.json\"'})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"server \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" socket.socket(socket.\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"AF_INET\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", socket.\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"SOCK_STREAM\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"server.bind(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"ADDR\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"server.listen()\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" handle_client\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(conn, addr):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    print\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"f\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"[NEW CONNECTION] '}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"{\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"addr\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"}\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' Connected\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    request \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" conn.recv(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1024\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\").decode(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" not\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request:\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        conn.close()\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request.startswith(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"POST /send_message\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        body \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request.split(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")[\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        log_visit(addr, body)\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        response \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HTTP/1.1 200 OK'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                    \"Access-Control-Allow-Origin: *'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                    \"Content-Type: text/plain'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                    \"Connection: close'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                    \"Message received successfully!\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        conn.sendall(response.encode(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    elif\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request.startswith(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"GET /get_analytics\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        conn.sendall(get_analytics().encode(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    conn.close()\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" log_visit\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(client_addr, page):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    data \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"ip\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": client_addr[\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"page\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": page, \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"timestamp\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"str\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(datetime.now())}\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        with\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" open\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"r\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\" file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            logs \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json.load(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    except\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" FileNotFoundError\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        logs \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" []\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    logs.append(data)\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    with\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" open\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"w\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\" file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        json.dump(logs, \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"indent\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"4\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" get_analytics\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"():\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        with\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" open\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"r\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\" file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            data \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json.load(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HTTP/1.1 200 OK'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Access-Control-Allow-Origin: *'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Content-Type: application/json'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Connection: close'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"                +\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json.dumps(data))\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    except\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" FileNotFoundError\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HTTP/1.1 404 Not Found'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Access-Control-Allow-Origin: *'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Content-Type: text/plain'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Connection: close'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"No analytics data found.\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" start\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"():\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    print\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"[SERVER STARTED] Tracking analytics...\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    while\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" True\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        conn, addr \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" server.accept()\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        thread \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" threading.Thread(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"target\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"handle_client, \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"args\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(conn, addr))\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        thread.start()\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"start()\"})})]})})}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsx)(n.h2,{children:(0,l.jsx)(n.strong,{children:\"\\u{1F4D6} Explanation of the Code\"})}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"1. Importing Libraries\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" socket\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" threading\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" datetime \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" datetime\"})]})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"json\"}),\" \\u2192 Handles visitor data storage.\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"socket\"}),\" \\u2192 Creates a TCP server to receive analytics data.\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"threading\"}),\" \\u2192 Runs multiple connections simultaneously.\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"datetime\"}),\" \\u2192 Logs timestamps for visits.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"2. Setting Up Server Variables\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" 5050\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"SERVER\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"localhost\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"ADDR\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"SERVER\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"PORT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"utf-8\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' \"analytics.json\"'})]})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[\"Defines the \",(0,l.jsx)(n.strong,{children:\"server port\"}),\" (\",(0,l.jsx)(n.code,{children:\"5050\"}),\").\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Uses \",(0,l.jsx)(n.strong,{children:\"localhost\"}),\" (\",(0,l.jsx)(n.code,{children:\"127.0.0.1\"}),\").\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Specifies the \",(0,l.jsx)(n.strong,{children:\"file\"}),\" where analytics logs are saved.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"3. Creating the Server\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"server \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" socket.socket(socket.\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"AF_INET\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", socket.\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"SOCK_STREAM\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"server.bind(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"ADDR\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"server.listen()\"})})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[\"Creates a \",(0,l.jsx)(n.strong,{children:\"TCP socket\"}),\" for network communication.\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Binds\"}),\" the socket to the IP and port.\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Enables the \",(0,l.jsx)(n.strong,{children:\"server to listen\"}),\" for incoming connections.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"4. Handling Client Requests\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" handle_client\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(conn, addr):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    print\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"f\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"[NEW CONNECTION] '}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"{\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"addr\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"}\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:' Connected\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    request \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" conn.recv(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1024\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\").decode(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    if\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\" not\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request:\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        conn.close()\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"})})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[\"Accepts \",(0,l.jsx)(n.strong,{children:\"incoming client connections\"}),\".\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Reads the \",(0,l.jsx)(n.strong,{children:\"request data\"}),\" from the client.\"]}),`\n`,(0,l.jsx)(n.li,{children:\"Closes the connection if no data is received.\"}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"5. Processing Incoming HTTP Requests\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request.startswith(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"POST /send_message\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    body \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request.split(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")[\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    log_visit(addr, body)\"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    response \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HTTP/1.1 200 OK'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Access-Control-Allow-Origin: *'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Content-Type: text/plain'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Connection: close'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Message received successfully!\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    conn.sendall(response.encode(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Handles POST requests\"}),\" (\",(0,l.jsx)(n.code,{children:\"send_message\"}),\").\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Extracts message body\"}),\".\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Calls \",(0,l.jsx)(n.strong,{children:\"log_visit()\"}),\" to store user activity.\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Sends an \",(0,l.jsx)(n.strong,{children:\"HTTP response\"}),\" confirming success.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"6. Retrieving Analytics Logs\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"elif\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" request.startswith(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"GET /get_analytics\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    conn.sendall(get_analytics().encode(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"FORMAT\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"))\"})]})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[\"Responds to \",(0,l.jsx)(n.strong,{children:\"GET requests\"}),\" (\",(0,l.jsx)(n.code,{children:\"get_analytics\"}),\").\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Calls \",(0,l.jsx)(n.strong,{children:\"get_analytics()\"}),\" to fetch logs.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"7. Logging Visitor Activity\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" log_visit\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(client_addr, page):\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    data \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" {\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"ip\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": client_addr[\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"], \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"page\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": page, \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"timestamp\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"str\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(datetime.now())}\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        with\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" open\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"r\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\" file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            logs \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json.load(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    except\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" FileNotFoundError\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        logs \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" []\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    logs.append(data)\"})}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    \"})}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    with\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" open\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"w\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\" file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        json.dump(logs, \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"indent\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"4\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Creates\"}),\" a JSON object containing:\",`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Visitor IP\"}),\" (\",(0,l.jsx)(n.code,{children:\"client_addr[0]\"}),\")\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Page visited\"}),\" (\",(0,l.jsx)(n.code,{children:\"page\"}),\")\"]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Timestamp\"}),\" (\",(0,l.jsx)(n.code,{children:\"datetime.now()\"}),\")\"]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Writes logs\"}),\" into a JSON file.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"8. Fetching Analytics Data\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" get_analytics\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"():\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    try\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        with\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" open\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"LOG_FILE\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"r\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\" file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"            data \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json.load(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"file\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HTTP/1.1 200 OK'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Access-Control-Allow-Origin: *'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Content-Type: application/json'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Connection: close'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"                +\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" json.dumps(data))\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    except\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" FileNotFoundError\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"HTTP/1.1 404 Not Found'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Access-Control-Allow-Origin: *'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Content-Type: text/plain'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"Connection: close'}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"\\\\r\\\\n\\\\r\\\\n\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"'})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'                \"No analytics data found.\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[\"Reads \",(0,l.jsx)(n.strong,{children:\"visitor logs from JSON\"}),\".\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Returns data in \",(0,l.jsx)(n.strong,{children:\"HTTP response format\"}),\".\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Handles cases where logs \",(0,l.jsx)(n.strong,{children:\"don\\u2019t exist\"}),\".\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"9. Running the Server\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"def\"}),(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\" start\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"():\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\"    print\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"[SERVER STARTED] Tracking analytics...\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"    while\"}),(0,l.jsx)(n.span,{style:{color:\"#79B8FF\"},children:\" True\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        conn, addr \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" server.accept()\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        thread \"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\" threading.Thread(\"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"target\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"handle_client, \"}),(0,l.jsx)(n.span,{style:{color:\"#FFAB70\"},children:\"args\"}),(0,l.jsx)(n.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(conn, addr))\"})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"        thread.start()\"})})]})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[\"Prints \",(0,l.jsx)(n.strong,{children:\"server startup message\"}),\".\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Continuously \",(0,l.jsx)(n.strong,{children:\"accepts connections\"}),\".\"]}),`\n`,(0,l.jsxs)(n.li,{children:[\"Runs each connection in \",(0,l.jsx)(n.strong,{children:\"a separate thread\"}),\".\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u{1F539} \",(0,l.jsx)(n.strong,{children:\"10. Starting the Server\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"python\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(n.code,{\"data-language\":\"python\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"start()\"})})})})}),`\n`,(0,l.jsxs)(n.ul,{children:[`\n`,(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:\"Launches the server\"}),\" to listen for requests.\"]}),`\n`]}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h2,{children:[\"\\u{1F680} \",(0,l.jsx)(n.strong,{children:\"How to Use\"})]}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u2705 \",(0,l.jsx)(n.strong,{children:\"Run the Server\"})]}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark\",children:(0,l.jsx)(n.code,{\"data-language\":\"bash\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"python\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:\" server.py\"})]})})})}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u2705 \",(0,l.jsx)(n.strong,{children:\"Send Analytics Data\"})]}),`\n`,(0,l.jsx)(n.p,{children:\"Use JavaScript:\"}),`\n`,(0,l.jsx)(n.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,l.jsx)(n.pre,{tabIndex:\"0\",\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",children:(0,l.jsxs)(n.code,{\"data-language\":\"javascript\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#B392F0\"},children:\"fetch\"}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"http://localhost:5050/send_message\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    method: \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"POST\"'}),(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(n.span,{\"data-line\":\"\",children:[(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"    body: \"}),(0,l.jsx)(n.span,{style:{color:\"#9ECBFF\"},children:'\"User visited homepage!\"'})]}),`\n`,(0,l.jsx)(n.span,{\"data-line\":\"\",children:(0,l.jsx)(n.span,{style:{color:\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,l.jsxs)(n.h3,{children:[\"\\u2705 \",(0,l.jsx)(n.strong,{children:\"Retrieve Analytics\"})]}),`\n`,(0,l.jsx)(n.p,{children:\"Visit:\"}),`\n`,(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:`http://localhost:5050/get_analytics\n`})}),`\n`,(0,l.jsx)(n.hr,{}),`\n`,(0,l.jsxs)(n.h2,{children:[\"\\u{1F525} \",(0,l.jsx)(n.strong,{children:\"Next Steps\"})]}),`\n`,(0,l.jsxs)(n.p,{children:[\"\\u2705 \",(0,l.jsx)(n.strong,{children:\"Add Real-Time Analytics\"}),\" with WebSockets\",(0,l.jsx)(n.br,{}),`\n`,\"\\u2705 \",(0,l.jsx)(n.strong,{children:\"Use a Database (SQLite/PostgreSQL)\"}),\" for Storage\",(0,l.jsx)(n.br,{}),`\n`,\"\\u2705 \",(0,l.jsx)(n.strong,{children:\"Visualize Analytics\"}),\" on a Website\"]}),`\n`,(0,l.jsxs)(n.p,{children:[\"Let me know if you want \",(0,l.jsx)(n.strong,{children:\"real-time updates\"}),\" or \",(0,l.jsx)(n.strong,{children:\"frontend visualization\"}),\"! \\u{1F680}\"]})]})}function h(e={}){let{wrapper:n}=e.components||{};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}return m(b);})();\n;return Component;"
  },
  "_id": "python-analytics-server.mdx",
  "_raw": {
    "sourceFilePath": "python-analytics-server.mdx",
    "sourceFileName": "python-analytics-server.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "python-analytics-server"
  },
  "type": "Post",
  "url": "/blog/python-analytics-server",
  "slug": "python-analytics-server",
  "readingTime": 6
}